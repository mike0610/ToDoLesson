(()=>{"use strict";var t={d:(e,n)=>{for(var o in n)t.o(n,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:n[o]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)};t.d({},{H:()=>f});var e="todos";function n(){var t=sessionStorage.getItem(e);return t?JSON.parse(t):[]}var o=function(t){var o=document.createElement("li");o.classList.add("todo-item");var d=document.createElement("span");d.innerText=t,d.classList.add("todo-text"),o.appendChild(d);var r=document.createElement("button");r.innerHTML='<i class="fas fa-check"></i>',r.classList.add("todo-check-button"),r.addEventListener("click",function(t){return function(e){e.preventDefault(),t.classList.toggle("todo-item_completed")}}(o)),r.addEventListener("click",(function(){return function(t){for(var o=n(),d=0;d<o.length;d++)o[d].todotext===t.innerText&&("uncompleted"===o[d].state?o[d].state="completed":o[d].state="uncompleted");sessionStorage.setItem(e,JSON.stringify(o))}(o)})),o.appendChild(r);var i=document.createElement("button");return i.innerHTML='<i class="fas fa-trash"></i>',i.classList.add("todo-remove-button"),i.addEventListener("click",function(t){return function(o){o.preventDefault(),t.classList.add("todo-item_fall"),t.addEventListener("transitionend",(function(){!function(t){var o=n(),d=Array.from(t.childNodes).find((function(t){return t.classList.contains("todo-text")}));if(d){var r=o.filter((function(t){return t.todotext!==d.innerText}));sessionStorage.setItem(e,JSON.stringify(r))}}(t),t.remove(),f()}))}}(o)),o.appendChild(i),o};function d(){return{todoInput:document.querySelector(".todo-input"),todoHelper:document.querySelector(".todo-helper"),todoButton:document.querySelector(".todo-button")}}function r(t){var e=d(),n=e.todoInput,o=e.todoButton;n.value.length>=3?o.classList.remove("todo-button_disabled"):o.classList.add("todo-button_disabled")}function i(t){var e=d(),n=e.todoInput,o=e.todoHelper;n.value.length>=3?o.classList.remove("todo-helper_visible"):o.classList.add("todo-helper_visible")}document.querySelector(".todo-input-wrapper");var s=d(),a=s.todoInput,l=s.todoButton,c=document.querySelector(".todo-list"),u=document.querySelector(".todo-select");function f(){c.children.length||u.setAttribute("disabled","disabled")}document.addEventListener("DOMContentLoaded",(function(){n().forEach((function(t){var e=o(t.todotext);c.appendChild(e)})),r(),f()})),a.addEventListener("input",(function(){return r()})),l.addEventListener("click",(function(t){var r,i;t.preventDefault(),i={todotext:a.value,state:"uncompleted"},(r=n()).push(i),sessionStorage.setItem(e,JSON.stringify(r));var s=o(a.value);c.appendChild(s),function(t){var e=d(),n=e.todoInput,o=e.todoButton;n.value="",o.classList.add("todo-button_disabled")}(),c.children.length&&u.removeAttribute("disabled")})),u.addEventListener("change",(function(t){var e,n;e=c.childNodes,n=t.target.value,e.length&&e.forEach((function(t){switch(n){case"completed":t.classList.contains("todo-item_completed")?t.style.display="flex":t.style.display="none";break;case"uncompleted":t.classList.contains("todo-item_completed")?t.style.display="none":t.style.display="flex";break;default:return void(t.style.display="flex")}}))})),a.addEventListener("keypress",(function(t){if("Enter"===t.key&&t.target.value.length<3)return t.preventDefault(),!1})),a.addEventListener("focus",(function(){return i()})),a.addEventListener("blur",(function(){d().todoHelper.classList.remove("todo-helper_visible")})),a.addEventListener("input",(function(){return i()}))})();